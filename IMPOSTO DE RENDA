import os 

def clear_screen():
    os.system("cls" if os.name == "nt" else "clear")

def calcular_inss(salario_base):
    faixas_inss = [
        (1100.00, 0.075),
        (2203.49, 0.09),
        (3305.23, 0.12),
        (6433.57, 0.14)
    ]
    maximo_inss = 751.99
    
    contribuicao = 0.0
    for i in range(len(faixas_inss)):
        if i == 0:
            faixa_limite = faixas_inss[i][0]
            aliquota = faixas_inss[i][1]
            if salario_base <= faixa_limite:
                contribuicao += salario_base * aliquota
                break
            else:
                contribuicao += faixa_limite * aliquota
        else:
            faixa_limite_anterior = faixas_inss[i-1][0]
            faixa_limite = faixas_inss[i][0]
            aliquota = faixas_inss[i][1]
            if salario_base <= faixa_limite:
                contribuicao += (salario_base - faixa_limite_anterior) * aliquota
                break
            else:
                contribuicao += (faixa_limite - faixa_limite_anterior) * aliquota

    return min(contribuicao, maximo_inss)

def calcular_irff(salario_base, dependentes=0):
    faixas_irff = [
        (1903.98, 0.0, 0.0),
        (2826.65, 0.075, 142.80),
        (3751.05, 0.15, 354.80),
        (4664.68, 0.225, 636.13),
        (float('inf'), 0.275, 869.36)
    ]
    deducao_dependentes = 189.59
    salario_com_dependentes = salario_base - deducao_dependentes * dependentes
    
    imposto = 0.0
    for faixa, aliquota, deducao in faixas_irff:
        if salario_com_dependentes <= faixa:
            imposto = salario_com_dependentes * aliquota - deducao
            break
    return max(imposto, 0.0)

def calcular_vale_transporte(salario_base):
    return salario_base * 0.06

def calcular_vale_refeicao(valor_fornecido):
    return valor_fornecido * 0.2

def calcular_plano_saude():
    return 150.00

def calcular_salario_liquido(salario_base, descontos):
    total_descontos = sum(descontos.values())
    salario_liquido = salario_base - total_descontos
    return salario_liquido

def run_programa():
    clear_screen()
    matricula = input("Digite a matrícula do funcionário: ")
    senha = input("Digite a Senha do funcionário: ")
    salario_base = float(input("Digite o salário base do funcionário: R$ "))
    
    opcao_vt = input("O Funcionário deseja receber vale transporte (s/n)? ").lower()
    vale_transporte = calcular_vale_transporte(salario_base) if opcao_vt == 's' else 0.0
    
    vale_refeicao = float(input("Digite o valor do vale refeição fornecida pela empresa: R$ "))
    vale_almoco = calcular_vale_refeicao(vale_refeicao)
    
    plano_saude = calcular_plano_saude()
    inss = calcular_inss(salario_base)
    
    dependente = input("O Funcionário possui dependentes (s/n)? ").lower()
    num_dependentes = int(input("Quantos Dependentes o funcionario possui? ")) if dependente == 's' else 0
    irff = calcular_irff(salario_base, num_dependentes)
    
    descontos = {
        'INSS': inss,
        'IRFF': irff,
        'Vale transporte': vale_transporte,
        'Vale Refeicao': vale_almoco,
        'Plano de Saude': plano_saude
    }
    
    salario_liquido = calcular_salario_liquido(salario_base, descontos)
    
    print(f"\nO Salário Líquido do Funcionário após os descontos é R$ {salario_liquido:.2f}")

run_programa()
